import{j as n,a as u,aj as h,ak as c,al as o,am as i,an as d,ao as w}from"./index-ad5f5c55.js";const p=()=>{const{getUserId:a}=n(),{setError:s}=u();return{createRecord:async t=>{try{const r=await a(),e=await h(c(o(),`users/${r}/records`));await i(e,t)}catch(r){throw s(r),r}},fetchRecords:async()=>{try{const t=await a(),r=(await d(c(o(),`users/${t}/records`))).val()||{};return Object.keys(r).map(e=>({...r[e],id:e}))}catch(t){throw s(t),t}},fetchRecordById:async t=>{try{const r=await a(),e=await w(c(o(),`users/${r}/records`),t);return{...(await d(e)).val()||{},id:t}}catch(r){throw s(r),r}}}};export{p as u};
