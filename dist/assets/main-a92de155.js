import{d as k,u as S,j as M,a as A,c as N,k as x,l as R,o as E,f as i,g as y,h as e,i as t,m as j,n as z,p as V,t as m,q as o,s as H,v as O,x as D,y as T,z as w,A as U,B as b,C,D as I,E as P,F as q,G as F,H as G,I as K,J,K as $,L as Q,M as W,N as X,O as Y,P as Z,Q as ee,r as B,R as te,S as ae,V as oe,b as se,T as le,_ as ne}from"./index-0f7889a6.js";import{l as re,e as ie}from"./auth-e8c2f44c.js";import{u as ce,a as ue}from"./index-3d5b041a.js";import{f as de}from"./user-d5c71921.js";import{m as pe}from"./fbMessages-e76e0baf.js";const me={key:0,class:"text-capitalize text-subtitle-1 font-weight-bold"},fe={key:1,class:"text-capitalize text-subtitle-1"},_e=k({__name:"AppNavbar",emits:["click"],setup(c,{emit:u}){const{t:n,d:f}=S({inheritLocale:!0,useScope:"global"}),{push:r}=M(),_=A(),d=N(()=>{var l;return(l=_.info)==null?void 0:l.name}),s=x(new Date);let a;R(()=>{a=setInterval(()=>s.value=new Date,1e3*20)}),E(()=>clearInterval(a));const g=async()=>{await re(),r({path:"/login",query:{message:"logout"}})};return(l,p)=>(i(),y(q,{elevation:2,color:"orange-lighten-1"},{prepend:e(()=>[t(z,{color:"blue-grey-darken-3",onClick:p[0]||(p[0]=j(v=>u("click"),["stop"]))})]),default:e(()=>[t(H,{class:"mt-1 text-blue-grey-darken-3"},{default:e(()=>[V(m(o(f)(s.value,"long")),1)]),_:1}),t(O),t(P,null,{activator:e(({props:v})=>[t(D,T({color:"blue-grey-darken-4",variant:"text"},v,{class:"mr-7","append-icon":o(F)}),{default:e(()=>[d.value?(i(),w("div",me,m(d.value),1)):(i(),w("div",fe,m(o(n)("guest")),1))]),_:2},1040,["append-icon"])]),default:e(()=>[t(U,{density:"comfortable"},{default:e(()=>[t(b,{onClick:p[1]||(p[1]=v=>o(r)("/profile"))},{prepend:e(()=>[t(C,{icon:o(G),class:"mr-3"},null,8,["icon"])]),default:e(()=>[t(I,null,{default:e(()=>[V(m(o(n)("pageTitles.profile")),1)]),_:1})]),_:1}),t(b,{onClick:g},{prepend:e(()=>[t(C,{icon:o(K),class:"mr-3"},null,8,["icon"])]),default:e(()=>[t(I,null,{default:e(()=>[V(m(o(n)("logout")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),ge={class:"font-weight-bold"},ve=k({__name:"AppSidebar",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(c,{emit:u}){const n=c,{t:f}=S({inheritLocale:!0,useScope:"global"}),r=ce(n,"modelValue",u),_=x([{title:"bill",url:"/",exact:!0},{title:"history",url:"/history"},{title:"plan",url:"/planning"},{title:"newRecord",url:"/record"},{title:"categories",url:"/categories"}]);return(d,s)=>(i(),y(X,{modelValue:o(r),"onUpdate:modelValue":s[0]||(s[0]=a=>W(r)?r.value=a:null),location:"left",width:"300"},{default:e(()=>[t(U,null,{default:e(()=>[(i(!0),w(Q,null,J(_.value,a=>(i(),y(b,{key:a.url,to:a.url,"active-class":"active",link:"",exact:a.exact,color:"light-blue-darken-3",class:"px-5"},{default:e(()=>[$("span",ge,m(o(f)("menu."+a.title)),1)]),_:2},1032,["to","exact"]))),128))]),_:1})]),_:1},8,["modelValue"]))}}),L=async()=>{try{const c=await fetch("https://api.exchangerate.host/latest?base=USD&symbols=EUR%2CUAH%2CUSD%2CRUB",{method:"GET",redirect:"follow",headers:new Headers({"Content-Type":"application/json"})}),{rates:u,date:n}=await c.json();return{rates:u,date:n}}catch(c){ie(c)}},ye={class:"app-content pa-5"},he=k({__name:"main",setup(c){const{state:u,isLoading:n,isReady:f,execute:r}=ue(L,null);Y(Z,{currency:u,isLoading:n,isReady:f,refresh:r});const{t:_}=S({inheritLocale:!0,useScope:"global"}),d=A(),s=x(!0),a=x(!1);return ee(async()=>{try{(!d.info||!Object.keys(d.info).length)&&await de(),await L()}catch(g){const{showMessage:l}=se();l(pe[g]||g)}finally{a.value=!1}}),(g,l)=>{const p=B("app-loader"),v=B("router-view");return a.value?(i(),y(p,{key:0,class:"main-loader"})):(i(),y(oe,{key:1,class:"app-main-layout"},{default:e(()=>[t(_e,{onClick:l[0]||(l[0]=h=>s.value=!s.value)}),t(ve,{modelValue:s.value,"onUpdate:modelValue":l[1]||(l[1]=h=>s.value=h)},null,8,["modelValue"]),t(te,{class:"app"},{default:e(()=>[$("div",ye,[t(v)])]),_:1}),t(ae,{activator:".fixed-action-btn",text:o(_)("create_record"),"content-class":"bg-indigo-lighten-3 font-weight-medium"},{activator:e(({props:h})=>[t(D,T({color:"indigo-lighten-1",size:"x-large",class:"fixed-action-btn",to:"/record",position:"fixed",icon:o(le)},h),null,16,["icon"])]),_:1},8,["text"])]),_:1}))}}});const Se=ne(he,[["__scopeId","data-v-813080c4"]]);export{Se as default};
