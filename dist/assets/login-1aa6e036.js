import{d as b,U as v,F as w,a as k,j as x,W as h,r as y,b as C,e as S,f as s,g as e,X as B,n,t as d,p as a,i as o,Y as M,Z as F,l as T,$ as c,v as N,a1 as U,a2 as j,M as q,a3 as z}from"./index-396d5d1a.js";import{a as A}from"./auth-9a94e179.js";import{u as f}from"./validations-8539db78.js";import{b as p}from"./route-block-83d24a4e.js";const D={class:"text-center text-subtitle-1"},E=b({__name:"login",setup(H){v({title:"login"});const{push:_}=w(),{showMessage:u}=k(),m=x(),r=h({email:"",password:""}),V=async()=>{var t,l;if((l=await((t=m.value)==null?void 0:t.validate()))==null?void 0:l.valid)try{await A(r),u(o("login_success")),_("/")}catch{u(o("login_error"))}};return(g,t)=>{const l=y("router-link");return C(),S(z,{"max-width":"450",width:"100%",class:"pa-4"},{default:s(()=>[e(B,{class:"text-center"},{default:s(()=>[n(d(a(o)("home_bookkeeping")),1)]),_:1}),e(M,null,{default:s(()=>[e(a(F),{onSubmit:T(V,["prevent"]),ref_key:"form",ref:m},{default:s(()=>[e(c,{modelValue:r.email,"onUpdate:modelValue":t[0]||(t[0]=i=>r.email=i),modelModifiers:{trim:!0},rules:a(f).email,variant:"underlined",label:"Email",class:"mt-4",required:""},null,8,["modelValue","rules"]),e(c,{modelValue:r.password,"onUpdate:modelValue":t[1]||(t[1]=i=>r.password=i),modelModifiers:{trim:!0},rules:a(f).password,variant:"underlined",label:"Пароль",class:"mt-6",required:""},null,8,["modelValue","rules"]),e(N,{type:"submit",width:"100%",color:"teal-darken-2",class:"mt-8","append-icon":a(U)},{default:s(()=>[n(d(a(o)("login")),1)]),_:1},8,["append-icon"])]),_:1},8,["onSubmit"])]),_:1}),e(j,{class:"mt-3 justify-center"},{default:s(()=>[q("div",D,[n(d(a(o)("no_account")+"? ")+" ",1),e(l,{to:"/register",tag:"a"},{default:s(()=>[n(d(a(o)("sign_in")),1)]),_:1})])]),_:1})]),_:1})}}});typeof p=="function"&&p(E);export{E as default};
