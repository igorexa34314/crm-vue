import{f as N,u as $,c as y,h as g,i as B,j as D,a as r,b as f,d as e,e as t,k as M,l as T,m as A,n as V,t as m,p as S,q as F,s as I,v as z,x as _,y as b,z as C,A as k,B as h,C as w,D as R,F as U,E as j,G as L,H as q,I as E,_ as P,g as G,w as H,r as x,J,K,V as O,L as Q}from"./index-fb57e085.js";import{m as W}from"./messages-e76e0baf.js";const X={key:0,class:"text-capitalize text-subtitle-1 font-weight-bold"},Y={key:1,class:"text-capitalize text-subtitle-1"},Z={__name:"Navbar",emits:["click"],setup(v,{emit:c}){const d=N(),l=$(),i=y(()=>l.state.info.info.name),s=g(new Date);let o=null;B(()=>{o=setInterval(()=>s.value=new Date,1e3)}),D(()=>clearInterval(o));const a=async()=>{await l.dispatch("auth/logout"),d.push({path:"/login",query:{message:"logout"}})};return(u,p)=>(r(),f(R,{elevation:2,color:"orange-lighten-1"},{prepend:e(()=>[t(M,{color:"blue-grey-darken-3",onClick:p[0]||(p[0]=T(n=>u.$emit("click"),["stop"]))})]),default:e(()=>[t(A,{class:"mt-1 text-blue-grey-darken-3"},{default:e(()=>[V(m(u.$filters.date(s.value,"datetime")),1)]),_:1}),t(S),t(F,null,{activator:e(({props:n})=>[t(I,z({color:"blue-grey-darken-4",variant:"text"},n,{class:"mr-7","append-icon":"mdi-triangle-small-down"}),{default:e(()=>[_(i)?(r(),b("div",X,m(_(i)),1)):(r(),b("div",Y,m(u.$filters.localize("guest")),1))]),_:2},1040)]),default:e(()=>[t(C,{density:"comfortable"},{default:e(()=>[t(k,{onClick:p[1]||(p[1]=n=>_(d).push("/profile"))},{prepend:e(()=>[t(h,{icon:"mdi-account-circle-outline",class:"mr-3"})]),default:e(()=>[t(w,null,{default:e(()=>[V(m(u.$filters.localize("pageTitles.profile")),1)]),_:1})]),_:1}),t(k,{onClick:a},{prepend:e(()=>[t(h,{icon:"mdi-logout",class:"mr-3"})]),default:e(()=>[t(w,null,{default:e(()=>[V(m(u.$filters.localize("logout")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},ee={class:"font-weight-bold"},te={__name:"Sidebar",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(v,{emit:c}){const d=v,l=y({get:()=>d.modelValue,set:s=>c("update:modelValue",s)}),i=g([{title:"bill",url:"/",exact:!0},{title:"history",url:"/history"},{title:"plan",url:"/planning"},{title:"newRecord",url:"/record"},{title:"categories",url:"/categories"}]);return(s,o)=>(r(),f(E,{modelValue:_(l),"onUpdate:modelValue":o[0]||(o[0]=a=>q(l)?l.value=a:null),location:"left",width:"300"},{default:e(()=>[t(C,null,{default:e(()=>[(r(!0),b(U,null,j(i.value,a=>(r(),f(k,{key:a.url,to:a.url,"active-class":"active",link:"",exact:a.exact,"active-color":"light-blue-darken-3",class:"px-5"},{default:e(()=>[L("span",ee,m(s.$filters.localize("menu."+a.title)),1)]),_:2},1032,["to","exact"]))),128))]),_:1})]),_:1},8,["modelValue"]))}};const ae={class:"app-content pa-5"},le={__name:"main",setup(v){const c=$(),d=G().appContext.app.config.globalProperties.$snackbar,l=g(!0),i=g(!0);B(async()=>{Object.keys(c.state.info.info).length||await c.dispatch("info/fetchInfo"),i.value=!1});const s=y(()=>c.state.error);return H(s,o=>{d.showMessage(W[o.code]||Q("error_message"),"red-darken-3",3e3)}),(o,a)=>{const u=x("loader"),p=x("router-view");return i.value?(r(),f(u,{key:0,class:"main-loader"})):(r(),f(O,{key:1,class:"app-main-layout"},{default:e(()=>[t(Z,{onClick:a[0]||(a[0]=n=>l.value=!l.value)}),t(te,{modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=n=>l.value=n)},null,8,["modelValue"]),t(J,{class:"app"},{default:e(()=>[L("div",ae,[t(p)])]),_:1}),t(K,{activator:".fixed-action-btn",text:o.$filters.localize("create_record"),"content-class":"bg-indigo-lighten-3 font-weight-medium"},{activator:e(({attrs:n})=>[t(I,z({color:"indigo-lighten-1",size:"x-large",class:"fixed-action-btn",to:"/record",position:"fixed",icon:"mdi-plus"},n),null,16)]),_:1},8,["text"])]),_:1}))}}},ne=P(le,[["__scopeId","data-v-b9d292b8"]]);export{ne as default};
