import{d as x,U as k,F as C,a as h,j as y,W as S,r as B,b as U,e as q,f as r,g as a,X as F,n as o,Y as T,p as s,Z as M,l as N,$ as u,a0 as j,v as z,a1 as A,t as m,i as n,a2 as D,M as c,a3 as E}from"./index-396d5d1a.js";import{r as H}from"./auth-9a94e179.js";import{u as d}from"./validations-8539db78.js";import{b as _}from"./route-block-83d24a4e.js";const L=c("p",null,[o("С "),c("a",{target:"_blank",href:"#"},"правилами"),o(" согласен ")],-1),R={class:"text-center"},W=x({__name:"register",setup(X){k({title:"sign_in"});const{push:g}=C(),{showMessage:p}=h(),f=y(),t=S({email:"",password:"",name:"",agree:!1}),b=async()=>{var e,i;if((i=await((e=f.value)==null?void 0:e.validate()))==null?void 0:i.valid){const{agree:l,...w}=t;try{await H(w),p(n("sign_in_success")),g("/")}catch(V){p(n(V)||V)}}};return(v,e)=>{const i=B("router-link");return U(),q(E,{width:"100%","max-width":"450",class:"pa-3"},{default:r(()=>[a(F,{class:"mb-2 text-center"},{default:r(()=>[o("Домашняя бухгалтерия")]),_:1}),a(T,null,{default:r(()=>[a(s(M),{class:"card-content",ref_key:"form",ref:f,onSubmit:N(b,["prevent"])},{default:r(()=>[a(u,{modelValue:t.email,"onUpdate:modelValue":e[0]||(e[0]=l=>t.email=l),rules:s(d).email,variant:"underlined",label:"Email",required:""},null,8,["modelValue","rules"]),a(u,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=l=>t.password=l),rules:s(d).password,variant:"underlined",label:"Пароль",class:"mt-5",required:""},null,8,["modelValue","rules"]),a(u,{modelValue:t.name,"onUpdate:modelValue":e[2]||(e[2]=l=>t.name=l),rules:s(d).name,variant:"underlined",counter:20,label:"Имя",class:"mt-5",required:""},null,8,["modelValue","rules"]),a(j,{modelValue:t.agree,"onUpdate:modelValue":e[3]||(e[3]=l=>t.agree=l),rules:s(d).agree,class:"mt-5",required:""},{label:r(()=>[L]),_:1},8,["modelValue","rules"]),a(z,{type:"submit","append-icon":s(A),color:"teal-lighten-1",width:"100%",class:"mt-7"},{default:r(()=>[o(m(s(n)("sign_in")),1)]),_:1},8,["append-icon"])]),_:1},8,["onSubmit"])]),_:1}),a(D,{class:"justify-center text-subtitle-1"},{default:r(()=>[c("p",R,[o(m(s(n)("have_account")+"? ")+" ",1),a(i,{to:"/login",tag:"a"},{default:r(()=>[o(m(s(n)("login")+"!"),1)]),_:1})])]),_:1})]),_:1})}}});typeof _=="function"&&_(W);export{W as default};
