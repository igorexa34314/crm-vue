import{d as b,j as D,u as C,c as h,k as V,l as M,m as z,e as r,f as g,g as e,h as t,n as T,p as E,q as y,t as m,s as o,v as F,x as R,y as $,z as A,A as w,B as L,C as k,D as B,E as I,F as U,G as j,H as q,I as O,i as _,J as P,K as N,L as G,M as H,N as J,a as K,b as Q,O as W,w as X,P as Y,Q as Z,V as ee,r as S,_ as te}from"./index-ad5f5c55.js";import{m as ae}from"./messages-e76e0baf.js";const oe={key:0,class:"text-capitalize text-subtitle-1 font-weight-bold"},se={key:1,class:"text-capitalize text-subtitle-1"},le=b({__name:"AppNavbar",setup(x){const{push:d}=q(),{logout:i}=D(),u=C(),s=h(()=>{var l;return(l=u.info)==null?void 0:l.name}),n=V(new Date);let c;M(()=>{c=setInterval(()=>n.value=new Date,1e3)}),z(()=>clearInterval(c));const a=async()=>{await i(),d({path:"/login",query:{message:"logout"}})};return(l,p)=>(r(),g(j,{elevation:2,color:"orange-lighten-1"},{prepend:e(()=>[t(E,{color:"blue-grey-darken-3",onClick:p[0]||(p[0]=T(f=>l.$emit("click"),["stop"]))})]),default:e(()=>[t(F,{class:"mt-1 text-blue-grey-darken-3"},{default:e(()=>[y(m(o(O)(n.value,"datetime")),1)]),_:1}),t(R),t(U,null,{activator:e(({props:f})=>[t($,A({color:"blue-grey-darken-4",variant:"text"},f,{class:"mr-7","append-icon":"mdi-triangle-small-down"}),{default:e(()=>[o(s)?(r(),w("div",oe,m(o(s)),1)):(r(),w("div",se,m(o(_)("guest")),1))]),_:2},1040)]),default:e(()=>[t(L,{density:"comfortable"},{default:e(()=>[t(k,{onClick:p[1]||(p[1]=f=>o(d)("/profile"))},{prepend:e(()=>[t(B,{icon:"mdi-account-circle-outline",class:"mr-3"})]),default:e(()=>[t(I,null,{default:e(()=>[y(m(o(_)("pageTitles.profile")),1)]),_:1})]),_:1}),t(k,{onClick:a},{prepend:e(()=>[t(B,{icon:"mdi-logout",class:"mr-3"})]),default:e(()=>[t(I,null,{default:e(()=>[y(m(o(_)("logout")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),ne={class:"font-weight-bold"},re=b({__name:"AppSidebar",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(x,{emit:d}){const i=x,u=h({get:()=>i.modelValue,set:n=>d("update:modelValue",n)}),s=V([{title:"bill",url:"/",exact:!0},{title:"history",url:"/history"},{title:"plan",url:"/planning"},{title:"newRecord",url:"/record"},{title:"categories",url:"/categories"}]);return(n,c)=>(r(),g(J,{modelValue:o(u),"onUpdate:modelValue":c[0]||(c[0]=a=>H(u)?u.value=a:null),location:"left",width:"300"},{default:e(()=>[t(L,null,{default:e(()=>[(r(!0),w(G,null,P(s.value,a=>(r(),g(k,{key:a.url,to:a.url,"active-class":"active",link:"",exact:a.exact,"active-color":"light-blue-darken-3",class:"px-5"},{default:e(()=>[N("span",ne,m(o(_)("menu."+a.title)),1)]),_:2},1032,["to","exact"]))),128))]),_:1})]),_:1},8,["modelValue"]))}}),ie={class:"app-content pa-5"},ue=b({__name:"main",setup(x){const d=K(),i=C(),{showMessage:u}=Q(),s=V(!0),n=V(!0);W(async()=>{(!i.info||!Object.keys(i.info).length)&&await i.fetchInfo(),n.value=!1});const c=h(()=>d.error);return X(c,a=>{u(ae[a.code]||_("error_message"),"red-darken-3",3e3)}),(a,l)=>{const p=S("app-loader"),f=S("router-view");return n.value?(r(),g(p,{key:0,class:"main-loader"})):(r(),g(ee,{key:1,class:"app-main-layout"},{default:e(()=>[t(le,{onClick:l[0]||(l[0]=v=>s.value=!s.value)}),t(re,{modelValue:s.value,"onUpdate:modelValue":l[1]||(l[1]=v=>s.value=v)},null,8,["modelValue"]),t(Y,{class:"app"},{default:e(()=>[N("div",ie,[t(f)])]),_:1}),t(Z,{activator:".fixed-action-btn",text:o(_)("create_record"),"content-class":"bg-indigo-lighten-3 font-weight-medium"},{activator:e(({props:v})=>[t($,A({color:"indigo-lighten-1",size:"x-large",class:"fixed-action-btn",to:"/record",position:"fixed",icon:"mdi-plus"},v),null,16)]),_:1},8,["text"])]),_:1}))}}});const pe=te(ue,[["__scopeId","data-v-92d457c9"]]);export{pe as default};
