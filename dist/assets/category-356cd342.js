import{a as u,j as w,an as y,ak as c,al as n,aj as h,am as d,ao as g,ap as C}from"./index-ad5f5c55.js";const I=()=>{const{setError:r}=u(),{getUserId:o}=w();return{fetchCategories:async()=>{try{const t=await o(),a=(await y(c(n(),`users/${t}/categories`))).val()||{};return Object.keys(a).map(e=>({...a[e],id:e}))}catch(t){throw r(t),t}},fetchCategoryById:async t=>{try{const a=await o(),e=await g(c(n(),`users/${a}/categories`),t);return{...(await y(e)).val()||{},id:t}}catch(a){throw r(a),a}},createCategory:async({title:t,limit:a})=>{try{const e=await o(),s=await h(c(n(),`users/${e}/categories`));return await d(s,{title:t,limit:a}),{title:t,limit:a,id:s.key}}catch(e){throw r(e),e}},updateCategory:async(t,{title:a,limit:e})=>{try{const s=await o(),i=await g(c(n(),`users/${s}/categories`),t);await C(i,{title:a,limit:e})}catch(s){throw r(s),s}}}};export{I as u};
