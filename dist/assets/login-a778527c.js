import{d as b,U as w,u as k,j as x,b as h,k as c,r as S,f as y,g as C,h as s,i as e,W as B,p as n,t as u,q as a,X as M,Y as q,m as N,x as T,$ as U,a0 as j,K as $,a1 as A}from"./index-882bc6b4.js";import{_ as f,u as p}from"./validations-18955d9b.js";import{a as D}from"./auth-930b1819.js";import{m as E}from"./fbMessages-e76e0baf.js";import{b as _}from"./route-block-83d24a4e.js";const F={class:"text-center text-subtitle-1"},H=b({__name:"login",setup(I){w({title:"login"});const{t:o}=k({inheritLocale:!0,useScope:"global"}),{push:g}=x(),{showMessage:d}=h(),m=c(),l=c({email:"",password:""}),v=async()=>{var t,i;if((i=await((t=m.value)==null?void 0:t.validate()))==null?void 0:i.valid)try{await D(l.value),d(o("login_success")),g("/")}catch(r){d(E[r]||o("login_error"))}};return(V,t)=>{const i=S("router-link");return y(),C(A,{"max-width":"450",width:"100%",class:"pa-4"},{default:s(()=>[e(B,{class:"text-center"},{default:s(()=>[n(u(a(o)("home_bookkeeping")),1)]),_:1}),e(M,null,{default:s(()=>[e(a(q),{onSubmit:N(v,["prevent"]),ref_key:"form",ref:m},{default:s(()=>[e(f,{modelValue:l.value.email,"onUpdate:modelValue":t[0]||(t[0]=r=>l.value.email=r),modelModifiers:{trim:!0},rules:a(p).email,variant:"underlined",label:"Email",class:"mt-4",required:""},null,8,["modelValue","rules"]),e(f,{modelValue:l.value.password,"onUpdate:modelValue":t[1]||(t[1]=r=>l.value.password=r),modelModifiers:{trim:!0},rules:a(p).password,variant:"underlined",label:"Пароль",class:"mt-6",required:""},null,8,["modelValue","rules"]),e(T,{type:"submit",width:"100%",color:"teal-darken-2",class:"mt-8","append-icon":a(U)},{default:s(()=>[n(u(a(o)("login")),1)]),_:1},8,["append-icon"])]),_:1},8,["onSubmit"])]),_:1}),e(j,{class:"mt-3 justify-center"},{default:s(()=>[$("div",F,[n(u(a(o)("no_account")+"? ")+" ",1),e(i,{to:"/register",tag:"a"},{default:s(()=>[n(u(a(o)("sign_in")),1)]),_:1})])]),_:1})]),_:1})}}});typeof _=="function"&&_(H);export{H as default};
