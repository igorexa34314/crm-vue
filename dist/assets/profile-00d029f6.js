import{d as _,R as b,b as S,u as g,c as h,k,S as x,O as y,e as w,A as B,K as c,t as m,s as t,i as l,h as s,g as d,X as I,a0 as L,y as U,q as T,D as E,n as F,W as N}from"./index-ad5f5c55.js";import{u as q}from"./validations-2761c6db.js";const A={class:"title"},C={class:"text-h4 mt-4 ml-2"},R=_({__name:"profile",setup(D){b({title:"pageTitles.profile"});const{showMessage:f}=S(),r=g(),o=h(()=>r.info),i=k(),e=x({name:"",currentLocale:""}),p=[{title:"Русский",value:"ru-RU"},{title:"Українська",value:"uk-UA"},{title:"English",value:"en-US"}],v=()=>{o.value&&Object.keys(o.value).length&&(e.currentLocale=o.value.locale,e.name=o.value.name)};y(()=>{v()});const V=async()=>{const{valid:u}=await i.value.validate();if(u)try{await r.updateInfo(e),f(l("updateProfile_message"))}catch(a){console.error(a)}};return(u,a)=>(w(),B("div",null,[c("div",A,[c("h3",C,m(t(l)("pageTitles.profile")),1)]),s(N,{ref_key:"form",ref:i,onSubmit:F(V,["prevent"]),class:"profile-form mt-8 px-4"},{default:d(()=>[s(I,{modelValue:e.name,"onUpdate:modelValue":a[0]||(a[0]=n=>e.name=n),rules:t(q).name,variant:"underlined",label:t(l)("name"),required:""},null,8,["modelValue","rules","label"]),s(L,{modelValue:e.currentLocale,"onUpdate:modelValue":a[1]||(a[1]=n=>e.currentLocale=n),items:p,label:t(l)("lang"),"item-title":"title","item-value":"value",variant:"underlined",class:"mt-4"},null,8,["modelValue","label"]),s(U,{type:"submit",color:"teal-darken-2",class:"mt-5"},{default:d(()=>[T(m(t(l)("update"))+" ",1),s(E,{icon:"mdi-send",class:"ml-3"})]),_:1})]),_:1},8,["onSubmit"])]))}});export{R as default};
