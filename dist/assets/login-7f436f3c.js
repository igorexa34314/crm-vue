import{d as V,U as w,u as k,j as x,b as h,k as c,r as y,f as S,g as C,h as s,i as e,W as B,p as n,t as u,q as a,X as M,Y as q,m as N,x as T,$ as U,a0 as j,K as z,a1 as $}from"./index-906b0197.js";import{_ as f,u as p}from"./validations-32d67446.js";import{a as A}from"./auth-7a072a28.js";import{m as D}from"./fbMessages-e76e0baf.js";import{b as _}from"./route-block-83d24a4e.js";const E={class:"text-center text-subtitle-1"},F=V({__name:"login",setup(H){w({title:"login"});const{t:o}=k({inheritLocale:!0,useScope:"global"}),{push:v}=x(),{showMessage:d}=h(),m=c(),l=c({email:"",password:""}),b=async()=>{var t,i;if((i=await((t=m.value)==null?void 0:t.validate()))==null?void 0:i.valid)try{await A(l.value),d(o("login_success")),v("/")}catch(r){d(D[r]||o("login_error"))}};return(g,t)=>{const i=y("router-link");return S(),C($,{"max-width":"450",width:"100%",class:"pa-4"},{default:s(()=>[e(B,{class:"text-center"},{default:s(()=>[n(u(a(o)("home_bookkeeping")),1)]),_:1}),e(M,null,{default:s(()=>[e(a(q),{onSubmit:N(b,["prevent"]),ref_key:"form",ref:m},{default:s(()=>[e(f,{modelValue:l.value.email,"onUpdate:modelValue":t[0]||(t[0]=r=>l.value.email=r),modelModifiers:{trim:!0},rules:a(p).email,variant:"underlined",label:"Email",class:"mt-4",required:"","validate-on":"lazy blur"},null,8,["modelValue","rules"]),e(f,{modelValue:l.value.password,"onUpdate:modelValue":t[1]||(t[1]=r=>l.value.password=r),modelModifiers:{trim:!0},rules:a(p).password,variant:"underlined",label:"Пароль",class:"mt-6",required:"","validate-on":"lazy blur"},null,8,["modelValue","rules"]),e(T,{type:"submit",width:"100%",color:"teal-darken-2",class:"mt-8","append-icon":a(U)},{default:s(()=>[n(u(a(o)("login")),1)]),_:1},8,["append-icon"])]),_:1},8,["onSubmit"])]),_:1}),e(j,{class:"mt-3 justify-center"},{default:s(()=>[z("div",E,[n(u(a(o)("no_account")+"? ")+" ",1),e(i,{to:"/register",tag:"a"},{default:s(()=>[n(u(a(o)("sign_in")),1)]),_:1})])]),_:1})]),_:1})}}});typeof _=="function"&&_(F);export{F as default};
